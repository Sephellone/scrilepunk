import{d as b,h as p,k,l as E,_ as w,o as f,a as _,e as v,n as I,c as O,u as D,r as g,b as $,w as T,f as M,F as N,i as A,m as j}from"./index-CfGYFt7J.js";import{a as q,B as F,I as P}from"./types-Dx0h93Aq.js";function x(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var C={exports:{}};function y(e,n=100,s={}){if(typeof e!="function")throw new TypeError(`Expected the first parameter to be a function, got \`${typeof e}\`.`);if(n<0)throw new RangeError("`wait` must not be negative.");const{immediate:c}=typeof s=="boolean"?{immediate:s}:s;let o,i,u,d,r;function l(){const t=Date.now()-d;if(t<n&&t>=0)u=setTimeout(l,n-t);else if(u=void 0,!c){const m=o,h=i;o=void 0,i=void 0,r=e.apply(m,h)}}const a=function(...t){if(o&&this!==o)throw new Error("Debounced method called with different contexts.");o=this,i=t,d=Date.now();const m=c&&!u;if(u||(u=setTimeout(l,n)),m){const h=o,B=i;o=void 0,i=void 0,r=e.apply(h,B)}return r};return a.clear=()=>{u&&(clearTimeout(u),u=void 0)},a.flush=()=>{if(!u)return;const t=o,m=i;o=void 0,i=void 0,r=e.apply(t,m),clearTimeout(u),u=void 0},a}C.exports.debounce=y;C.exports=y;var S=C.exports;const R=x(S),V=b({name:"MatchItem",props:{image:{type:String,required:!0},id:{type:Number,required:!0},imageOpen:{type:Boolean,required:!0}},emits:["itemOpened"],setup(e,{emit:n}){const s=p(!1),c=()=>{s.value=!0,setTimeout(()=>{s.value=!1},100)},o=R(()=>{e.imageOpen||(setTimeout(()=>{n("itemOpened")},100),c())},200);return k(E(e,"imageOpen"),c),{animated:s,handleClick:o}}}),L=["src"];function z(e,n,s,c,o,i){return f(),_("div",{class:I(["match-item",{__animated:e.animated}]),onClick:n[0]||(n[0]=(...u)=>e.handleClick&&e.handleClick(...u))},[v("img",{class:I(["match-item__image",{__open:e.imageOpen}]),src:e.image,alt:"",width:"100",height:"100"},null,10,L)],2)}const H=w(V,[["render",z],["__scopeId","data-v-1905a6dc"]]);function G(e){for(let n=e.length-1;n>0;n--){const s=Math.floor(Math.random()*(n+1));[e[n],e[s]]=[e[s],e[n]]}}const J=b({name:"PageMatch",components:{MatchItem:H,BaseDescription:q,BaseTitle:F},setup(){const e=D(),n=p([]),s=p(),c=p(),o=p([]),i=O(()=>{const a=[];for(let t=0;t<=9;t++)a.push({id:t,imageId:t,src:`/img/match/${t}.jpg`}),a.push({id:t+20,imageId:t,src:`/img/match/${t}.jpg`});return G(a),a}),u=a=>n.value.includes(a),d=a=>o.value.includes(a),r=()=>{var a,t;!s.value||!c.value||(c.value.imageId===((a=s.value)==null?void 0:a.imageId)&&n.value.push((t=s.value)==null?void 0:t.imageId),s.value=void 0,c.value=void 0,o.value=[],n.value.length===i.value.length/2&&e.push({name:"complete",query:{quest:"match"}}))};return{IconType:P,items:i,openCards:o,isPairCollected:u,isCardOpen:d,handleItemClick:a=>{s.value&&c.value||(s.value?(c.value=i.value.find(t=>t.id===a),o.value.push(a),setTimeout(r,1e3)):(s.value=i.value.find(t=>t.id===a),o.value.push(a)))},collectedIds:n}}}),K={class:"match"},Q={class:"match__description"},U={class:"match__field"};function W(e,n,s,c,o,i){const u=g("BaseTitle"),d=g("match-item"),r=g("BaseDescription");return f(),_("div",K,[$(u,{class:"match__title",title:"Пройди игру",red:"",icon:e.IconType.MACHINE_LINES},null,8,["icon"]),v("div",Q,[$(r,null,{subtitle:T(()=>[M("Собери все пары изображений")]),default:T(()=>[v("div",U,[(f(!0),_(N,null,A(e.items,l=>(f(),j(d,{key:l.id,class:I(["match__item",{__hidden:e.isPairCollected(l.imageId)}]),id:l.imageId,image:l.src,"image-open":e.isCardOpen(l.id),onItemOpened:a=>e.handleItemClick(l.id)},null,8,["class","id","image","image-open","onItemOpened"]))),128))])]),_:1})])])}const Z=w(J,[["render",W],["__scopeId","data-v-2a90ec13"]]);export{Z as default};
