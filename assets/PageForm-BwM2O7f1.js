import{d as E,_ as $,o as i,a as m,e as s,n as F,t as w,h as C,c as D,u as x,r,b as l,w as v,F as N,i as I,j as R,f as g,m as V}from"./index-CfGYFt7J.js";import{a as A,B as S,I as L}from"./types-Dx0h93Aq.js";import{B as q}from"./BaseButton-u4Jafv-X.js";import{B as T}from"./BaseInput-BPzigYzh.js";const U=E({name:"BaseCheckbox",props:{label:{type:String,required:!0},checked:{type:Boolean,required:!0}},emits:["change"]}),P={class:"checkbox"},j=["checked"];function z(e,u,t,p,_,d){return i(),m("div",P,[s("label",null,[s("input",{type:"checkbox",checked:e.checked,onChange:u[0]||(u[0]=a=>e.$emit("change",e.label))},null,40,j),s("span",{class:F(["checkbox__label",{__checked:e.checked}])},w(e.label),3)])])}const H=$(U,[["render",z],["__scopeId","data-v-0722e654"]]),M=E({name:"PageForm",components:{BaseCheckbox:H,BaseInput:T,BaseDescription:A,BaseTitle:S,BaseButton:q},setup(){const e=x(),u=C(!1),t=C(new Date("2024-06-01")),p=new Date("2024-01-01"),_=new Date("2024-12-31"),d=["Москва","Звенигород","Казань","Санкт-Петербург","Новороссийск","Сочи","Новосибирск","Калининград","Краснодар","Кемерово","Йошкар-Ола","Екатеринбург","Анапа","Уфа","Нижний Новгород","Челябинск","Выборг","Самара","Ростов-на-Дону","Омск","Красноярск","Воронеж","Томск","Пермь","Волгоград","Владивосток","Ярославль","Тула","Манжерок","Якутск"],a=C(d.slice(0)),c={city:"новосибирск",date:new Date().toLocaleDateString("ru-RU")},h=n=>a.value.includes(n),b=n=>{u.value&&(u.value=!1),t.value=new Date(Number(n.target.value))},f=n=>{u.value&&(u.value=!1);const B=a.value.findIndex(y=>y===n);B>=0?a.value.splice(B,1):a.value.push(n)},o=D(()=>t.value.toLocaleDateString("ru-RU")===c.date),k=D(()=>a.value.length===1&&a.value[0].toLowerCase().trim()===c.city);return{IconType:L,error:u,rangeValue:t,min:p,max:_,cities:d,onRangeChange:b,validateForm:()=>{o.value&&k.value?e.push({name:"complete",query:{quest:"form"}}):u.value=!0},isCheckboxChecked:h,handleCheckbox:f}}}),G={class:"form"},J={class:"form__description"},K=["value","min","max"],O={class:"form__checkbox-field"},Q={key:0,class:"form__error"};function W(e,u,t,p,_,d){const a=r("base-title"),c=r("base-description"),h=r("base-input"),b=r("base-checkbox"),f=r("base-button");return i(),m("div",G,[l(a,{class:"form__title",title:"Заполни форму",red:"",icon:e.IconType.SCHEMA},null,8,["icon"]),s("div",J,[l(c,null,{subtitle:v(()=>[g(" Введи сегодняшнюю дату ")]),_:1}),l(h,{class:"form__input",readonly:"",value:e.rangeValue.toLocaleDateString("ru-RU")},null,8,["value"]),s("input",{class:"form__range",type:"range",value:Number(e.rangeValue),min:Number(e.min),max:Number(e.max),onChange:u[0]||(u[0]=(...o)=>e.onRangeChange&&e.onRangeChange(...o))},null,40,K),l(c,null,{subtitle:v(()=>[g(" В каком городе ты сейчас находишься? ")]),_:1}),s("div",O,[(i(!0),m(N,null,I(e.cities,(o,k)=>(i(),V(b,{key:k,class:"form__checkbox",checked:e.isCheckboxChecked(o),label:o,onChange:e.handleCheckbox},null,8,["checked","label","onChange"]))),128))]),e.error?(i(),m("p",Q,"Есть ошибки. Попробуй еще раз")):R("",!0)]),l(f,{class:"form__button",onClick:e.validateForm},{default:v(()=>[g("check")]),_:1},8,["onClick"])])}const ae=$(M,[["render",W],["__scopeId","data-v-0e804f3e"]]);export{ae as default};
